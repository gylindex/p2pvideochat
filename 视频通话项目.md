#### 1.环境搭建

- 基于coturn，nodejs，nginx的项目

###### 源码位置

- windws：`E:\1my_file_g_汉子后缀汉子汉子汉子汉子\百度下载\webrtc-src-20190829\webrtc-src-20190829\06\6.1\demo`
- linux：
  - 信令服务器和html客户端：/home/gyl/develop/webrtc/node/one2oneqq
  - nginx：/home/gyl/develop/webrtc/node/one2oneqq/nginx-1.15.8
  - nginx配置文件：/home/gyl/develop/webrtc/node/one2oneqq/nginx-1.15.8/conf/conf1.d
  - coturn服务器：/home/gyl/develop/webrtc/coturn-master/bin

==coturn==

- 集成turn，stun，作为打洞、中转服务器

==nodejs==

- 在服务端运行js信令服务器的平台
- Node.js发布于2009年5月，由Ryan Dahl开发，是一个基于[Chrome](https://baike.baidu.com/item/Chrome/5633839?fromModule=lemma_inlink) [V8](https://baike.baidu.com/item/V8/6178125?fromModule=lemma_inlink)引擎的[JavaScript](https://baike.baidu.com/item/JavaScript/321142?fromModule=lemma_inlink)运行环境，使用了一个[事件驱动](https://baike.baidu.com/item/事件驱动/9597519?fromModule=lemma_inlink)、非阻塞式I/O模型， [1] 让JavaScript 运行在[服务端](https://baike.baidu.com/item/服务端/6492316?fromModule=lemma_inlink)的开发平台，它让JavaScript成为与[PHP](https://baike.baidu.com/item/PHP/9337?fromModule=lemma_inlink)、[Python](https://baike.baidu.com/item/Python/407313?fromModule=lemma_inlink)、[Perl](https://baike.baidu.com/item/Perl/851577?fromModule=lemma_inlink)、[Ruby](https://baike.baidu.com/item/Ruby/11419?fromModule=lemma_inlink)等服务端语言平起平坐的[脚本语言](https://baike.baidu.com/item/脚本语言/1379708?fromModule=lemma_inlink)。（来自百度）

==nginx==

- 用来作为web服务器，提供html资源的访问，允许https的访问
- 用来代理wss为ws，html客户端先通过wss访问nginx，由nginx代理为ws连接到信令服务器

![image-20221028164157196](../image-20221028164157196.png)

#### 2.mesh多人通话难点

- 基于一对一视频通话，开发mesh模型的多人通话，难点在于：
  - 后加入的人要同时与多个客户端进行信令交换，情况非常混乱，但凡出一点差错就无法完成
- mesh模型目前只支持3人通话，一是代码质量不高，目前只支持最多三人。二是mesh模型在3人以上时就非常吃带宽

源码